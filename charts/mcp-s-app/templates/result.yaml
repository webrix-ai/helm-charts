{{- /*
This file was autogenerated by helmify-kustomize
DO NOT EDIT: Any changes will be overwritten
*/ -}}

{{- $templateValues := fromYaml (include "hlmfk-1-2-ad161e17c0.valuesYaml" (dict "Values" .Values)) }}
{{- $values := mergeOverwrite $templateValues .Values }}

{{- $all := fromYaml (include "hlmfk-1-2-ad161e17c0.yamls" (dict "Values" $values) ) }}


{{- if $values.manifests }}
{{- range $key, $manifest := $values.manifests }}
{{- $shouldInclude := true -}}
{{- if and $manifest.metadata $manifest.metadata.annotations }}
{{- if hasKey $manifest.metadata.annotations "helmify-kustomize.io/enabled-by" }}
{{- $enabledByPath := index $manifest.metadata.annotations "helmify-kustomize.io/enabled-by" }}
{{- $enabledValue := include "hlmfk-1-2.getValue" (dict "Values" $values "path" (splitList "." $enabledByPath) "default" "true") | trim -}}
{{- if or (eq ($enabledValue | toString) "false") (eq ($enabledValue | toString) "False") (not $enabledValue) }}
{{- $shouldInclude = false -}}
{{- end }}
{{- /* Remove the control annotation from the manifest */ -}}
{{- $_ := unset $manifest.metadata.annotations "helmify-kustomize.io/enabled-by" -}}
{{- /* If annotations is now empty, remove it entirely */ -}}
{{- if eq (len $manifest.metadata.annotations) 0 }}
{{- $_ := unset $manifest.metadata "annotations" -}}
{{- end }}
{{- end }}
{{- end }}
{{- if $shouldInclude }}
{{- $result := append $all.manifests (dict "spec" $manifest) }}
{{- $n := set $all "manifests" $result -}}
{{- end }}
{{- end }}
{{- end }}

{{- range $key, $manifest := $all.manifests }}
{{- $globals := "" }}
{{- if $values.helmifyPrefix }}
  {{- $globals = index $values $values.helmifyPrefix }}
{{- else }}
  {{- $globals = $values.globals }}
{{- end }}
{{- include "hlmfk-1-2.ensureMetadata" (dict "manifest" $manifest)}}
{{- include "hlmfk-1-2.updataImages" (dict "manifest" $manifest "globals" $globals)}}
{{- include "hlmfk-1-2.setNamespace" (dict "manifest" $manifest "globals" $globals "Release" $.Release)}}
{{- if $globals }}
{{- include "hlmfk-1-2.setNamePrefix" (dict "manifest" $manifest "globals" $globals)}}
{{- include "hlmfk-1-2.setNameSuffix" (dict "manifest" $manifest "globals" $globals)}}
{{- include "hlmfk-1-2.nameReleasePrefix" (dict "manifest" $manifest "globals" $globals "Values" $values)}}
{{- include "hlmfk-1-2.labels" (dict "manifest" $manifest "globals" $globals)}}
{{- include "hlmfk-1-2.annotations" (dict "manifest" $manifest "globals" $globals)}}
{{- include "hlmfk-1-2.applyManifestPatchers" (dict "manifest" $manifest "globals" $globals)}}
{{- end}}


{{- if and (hasKey $.Values "env") }}
{{ include "hlmfk-1-2.updateConfigMap" (dict "manifest" $manifest "name" "mcp-s-app-container-vars" "data" $.Values.env) }}
{{- end }}

{{- end }}



{{- if .Values.resources }}
{{- range $key, $manifest := .Values.resources }}
{{- $result := append $all.manifests (dict "spec" $manifest) }}
{{- $n := set $all "manifests" $result -}}
{{- end }}
{{- end }}

{{- include "hlmfk-1-2.printManifests" $all }}
        